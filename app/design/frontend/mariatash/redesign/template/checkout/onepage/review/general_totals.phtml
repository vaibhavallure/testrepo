<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     default_iphone
 * @copyright   Copyright (c) 2012 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */

/**
 * @see Mage_Checkout_Block_Cart_Totals
 */
?>
<?php $shipping = 0; $discount = 0; $tax = 0; $subtotal = 0; $grandTotal = 0;?>
<?php if ($this->getTotals()): ?>
<?php $totals = $this->getTotals();?>
<?php if(isset($totals['discount']) && $totals['discount']->getValue()):?>
	<?php $discount = $discount + $totals['discount']->getValue();?>
<?php endif;?>

<?php if(isset($totals['subtotal']) && $totals['subtotal']->getValue()):?>
	<?php $subtotal = $subtotal + $totals['subtotal']->getValue();?>
<?php endif;?>

<?php if(isset($totals['shipping']) && $totals['shipping']->getValue()):?>
	<?php $shipping = $shipping + $totals['shipping']->getValue();?>
<?php endif;?>

<?php if(isset($totals['grand_total']) && $totals['grand_total']->getValue()):?>
	<?php $grandTotal = $grandTotal + $totals['grand_total']->getValue();?>
<?php endif;?>
<?php $totalsArray = array(
    "subtotal" => array("label" => "Subtotal", "value" => $subtotal),
    "tax" => array("label" => "Tax", "value" => $tax),
    "shipping" => array("label" => "Shipping", "value" => $shipping),
    "discount" => array("label" => "Discount", "value" => $discount),
    "grand_total" => array("label" => "Total", "value" => $grandTotal)

);?>

<div class="grand-total col-12">
<?php foreach ($totalsArray as $code => $totals):?>
	<?php if($totalsArray[$code]["value"] != 0):?>
	<div class="inner row">
		<div class="col-lg-6 col-md-6 col-12 offset-lg-6 offset-md-6 text-right">
			<div class="row justify-content-around">
				<span class="col <?php if($code=="grand_total") echo "overview-grand"; else echo "overview-common-prices";?>"><span><?php echo $this->__($totalsArray[$code]["label"]) ?></span></span>
				<span class="<?php if($code=="grand_total") echo "overview-grand"; else echo "overview-common-prices";?>">
					<?php echo $this->helper('checkout')->formatPrice($totalsArray[$code]["value"]) ?>
				</span>
      </div>
		</div>
	</div>
	<?php endif;?>
<?php endforeach;?>
</div>
<?php endif; ?>

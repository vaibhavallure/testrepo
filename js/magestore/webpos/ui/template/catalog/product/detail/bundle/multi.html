<!--
  ~ Magestore
  ~
  ~ NOTICE OF LICENSE
  ~
  ~ This source file is subject to the Magestore.com license that is
  ~ available through the world-wide-web at this URL:
  ~ http://www.magestore.com/license-agreement.html
  ~
  ~ DISCLAIMER
  ~
  ~ Do not edit or add to this file if you wish to upgrade this extension to newer
  ~ version in the future.
  ~
  ~ @category    Magestore
  ~ @package     Magestore_Webpos
  ~ @copyright   Copyright (c) 2016 Magestore (http://www.magestore.com/)
  ~ @license     http://www.magestore.com/license-agreement.html
  -->

<div data-bind="attr: {'class': 'field option'}">
    <label class="label">
        <span data-bind="text: parentData.title"></span>
    </label>
    <div class="control">
        <select multiple="multiple" size="5"
                data-bind="event: {'change': $parents[1].updatePrice($parents[2].itemData().bundle_options)},
                                attr: {'id': 'bundle-option-'+parentData.id,
                                    'name': 'bundle_option['+parentData.id+'][]',
                                    'class': 'bundle-option-'+parentData.id+' multiselect product bundle option change-container-classname',
                                    'data-validate': (parentData.required) ? '{\'required-entry\':true}' : ''
                                }">
            <!-- ko foreach: {data: $parents[1].convertToArray(parentData.items), as: 'itemData' }  -->
                <option data-bind="text: parseInt(itemData.selection_qty) + ' x ' + itemData.name + ' +' + $parents[2].getSelectionTitlePrice(itemData.price),
                                        attr: {
                                            'value': itemData.selection_id,
                                            'selected': (itemData.is_default =='1') ? 'selected' : false
                                        }">
                </option>
            <!-- /ko -->
        </select>
    </div>
</div>
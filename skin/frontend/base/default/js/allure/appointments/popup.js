const translation = {
    "fr": {
        "Join the Maria Tash team of global experts in Los Angeles for four days only.": "Rejoignez l'équipe d'experts mondiaux Maria Tash à Los Angeles pour seulement quatre jours.",
        "FIRST NAME*": "Prénom*",
        "LAST NAME*": "Nom*",
        "Text Message (Message and data rates may apply)": "SMS <br>(Vos donnés sont susceptibles d’être utilisés ainsi que l’envoie de messages)",
        "Text Message (<em>Message and data rates may apply</em>)": "SMS <br>(Vos donnés sont susceptibles d’être utilisés ainsi que l’envoie de messages)",
        "Maria Tash x Le Bon<br> Marché Pop-up": "En exclusivité au Bon Marché",
        "Renowned for her innovation in piercing, Tash has developed a technique through which each client’s personal style, complexion, and anatomy guide the curation of jewelry combined to best flatter the wearer. The brand’s unique approach to piercing and styling  makes it one of the most coveted brands today. Shop the fine jewelry collections and experience Luxury Piercing and custom styling.": "Reconnue pour ses innovations en matière de piercing, Maria Tash a mis au point des techniques pour mettre en valeur le style, le teint, et l’anatomie de chaque personne grace notamment à une sélection de bijoux qu’elle a elle-même crée. Cette approche unique en matière de style et de piercing, fait de Maria Tash, l’une des marques de mode les plus convoitées aujourd’hui. Venez découvrir au Bon Marché, les différents styles, les piercings et la collection de bijoux de luxe de Maria Tash.",
        "Monday": "Lundi",
        "Tuesday": "Mardi",
        "Wednesday": "Mercredi",
        "Thursday": "Jeudi",
        "Friday": "Vendredi",
        "Saturday": "Samedi",
        "Sunday": "Dimanche",
        "October": "Octobre",
        "August": "Août",
        "Booking & Pricing": "réservation et prix",
        "BOOK NOW": "RESERVEZ UN RENDEZ-VOUS DÈS",
        "POP-UP INFORMATION": "Informations sur l'événement",
        "POP UP INFORMATION": "Informations sur l'événement",
        "POP-UP INFO": "Informations sur l'événement",
        "BOOKING & PRICING": "réservation et prix",
        "ABOUT MARIA TASH": "À PROPOS DE MARIA TASH",
        "Book Your Appointment": "Prendre Rendez-vous",
        "Number of people in your party:": "Nombre de personne dans votre groupe:",
        "CONFIRM": "Confirmer",
        "A native New Yorker, Tash studied Astronomy at Columbia University before moving to study abroad in London. It was there that her love of fine jewelry, which was instilled in her at a young age by her mother, was fused with her passion for piercings. Tash began her career creating custom navel jewelry, and opened her first studio, Venus Modern Body Art, in 1993 in the East Village of New York.": "D’origine américaine, Maria Tash est née à New York, elle a commencé par étudier l’Astronomie à l’université de Columbia avant de partir faire des études dans la mode à Londres. C’est à ce moment-là qu’elle a développée son gout pour la joaillerie de luxe, une passion initiée dès son enfance par sa mère, et l’a fusionné avec son autre passion : le piercing. Maria Tash a ainsi débuté sa carrière dans la création de bijoux spécifiquement pour le nombril et a ouvert son premier atelier, Venus Modern Body Art, en 1993 dans l’East Village à New York.",
        "Do I need to book an appointment?": "Dois-je prendre rendez-vous ?",
        "Appointments are preferred for piercings but walk-ins are always welcome.  Appointments are not required for fittings and installs.": "Les rendez-vous pour les piercings sont recommandés mais pas obligatoires. Pensez à vous présenter quelques temps avant votre rendez-vous afin de vous laisser le temps de choisir votre style et vos bijoux. Les installations et ajustements se font sans rendez-vous.",
        "Can I be pierced with my own jewelry?": "Puis-je me faire percer avec mes propres bijoux ?",
        "Due to sterilization needs, we do not pierce with jewelry that is not Maria Tash. The best selections from our full collection will be available for styling and piercing. Our styles come in white, yellow, rose, and black gold.": "En raison des besoins de stérilisation, nous n’utilisons pas d’autres bijoux que ceux de Maria Tash. La meilleure sélection de notre collection sera disponible pour les installations et les piercings. Tous nos bijoux sont en or et se déclinent en différente couleur : jaune, blanc, rose et noir.",
        "How many piercings can I get in one session?": "Combien de piercings puis-je me faire faire en une séance ?",
        "We recommend up to 3 per session, but this is dependant on the piercings you are thinking about and your anatomy. Our stylists and piercers can best consult with you during your visit.": "Nous recommandons un maximum de 3 piercings par séance, mais cela dépends des placements des piercings et de votre anatomie. Nos stylistes et perceurs sont à votre disposition pour vous conseiller lors de votre visite.",
        "Can I be pierced if I am under 18?": "Puis-je me faire percer si j’ai moins de 18 ans ?",
        "Yes, we pierce lobes over the age of 8 and cartilage over the age of 16 but you must be accompanied by a parent or guardian and you both must bring ID with you.": "Oui, nous perçons les lobes des oreilles à partir de 8 ans et le cartilage à partir de 16 ans, mais vous devez être accompagné d’un parent ou d’un tuteur légal et munis d’une pièce d’identité.",
        "What size jewelry works best for me?": "Quelle taille de bijoux me conviens le mieux ?",
        "Our experience involves you pairing one-on-one with our stylists to completely guide you through your styling and piercing. There are multiple sizes to our jewelry, but our team will make sure that you are properly sized and confident.": "Afin de profiter pleinement de votre expérience à Maria Tash, nous vous proposons de vous laisser conseiller par nos stylistes et perceurs qui vous apporteront leur savoir-faire et expertise en fonction de vos gouts et de votre anatomie.",
        "Can I be pierced if I’ve been drinking?": "Puis-je me faire percer si j’ai consommé de l’alcool?",
        "If you are being pierced by us may we politely request that you refrain from consuming alcohol until after your appointment for health and safety reasons.": "Pour de raisons de santé et de sécurité, nous vous demandons de ne pas consommer d’alcool avant votre rendez-vous chez Maria Tash.",
        "Sign Up for Our Newsletter": "INSCRIVEZ-VOUS À NOTRE NEWSLETTER",
        "sign up": "s'inscrire",
//        "Text Message (<em>Message and data rates may apply</em>)": "Message texte(<em>Vos donnés sont susceptibles d’être utilisés ainsi que l’envoie de messages</em>)",
        "First Name*": "Prénom*",
        "Last Name*": "Nom*",
        "Phone Number": "Numéro de téléphone",
        "I would like to be notified by:": "J'aimerais être averti par:",
        "Jewelry starts at": "le prix des bijoux commence à ",
        "jewelry starts at": "le prix des bijoux commence à ",
        "Frequently Asked Questions": "QUESTIONS FRÉQUEMMENT POSÉES",
        "Your Appointment on": "Votre demande de rendez-vous au",
        "at": "à ",
        "is confirmed!": "est confirmée!",
        "You will receive a confirmation via email as well as a link to complete your release form.": "Vous recevrez un courrier électronique de confirmation contenant un lien pour votre formulaire de consentement.",
        "You will receive a confirmation via email.": "Vous recevrez un courrier électronique de confirmation.",
        "Please complete the form prior to your appointment.": "Veuillez remplir ce formulaire avant de vous rendre à votre rendez-vous.",
        "Thanks!": "Merci!",
        "Modify": "Modifier",
        "Cancel": "Annuler",
        "Appointment Details": "Rendez-Vous Détails",
        "Please enter your First Name*": "Saisissez votre Prénom*",
        "Please enter your Email*": "Saisissez votre Email*",
        "Please enter your Last Name*": "Saisissez votre Nom*",
        "Please enter your FIRST NAME*": "Saisissez votre Prénom*",
        "Please enter your EMAIL": "Saisissez votre Email",
        "Please enter your LAST NAME*": "Saisissez votre Nom*",
        'Choose type of Appointment to get available time slots': 'Choisissez votre type de rendez-vous pour obtenir les créneaux disponibles',
        "No Slot Available": "Aucun créneau disponible",
        "Please select one of the above options": "Choisissez une des options ci-dessus",
        "Please select slot": "Sélectionnez l'emplacement",
        "Please enter your": "Saisissez votre",
        "Spaces Not Allowed": "Espaces non autorisés",
        'This appointment time is no longer available. <br> Please select another time.': "Ce créneau n'est plus disponible. Choisissez un autre créneau.",
        "Sorry Something Went Wrong. Please Try Again!": "Désolé, quelque chose s'est mal passé. Veuillez réessayer !",
        "Please enter a valid email address.": "Saisissez une adresse email valide",
        "Please Enter Valid Email Id": "Saisissez une adresse email valide",
        "Book Another Piercing": "Réservez un autre piercing",
        "Booking Location": "Lieu de la réservation",
        "Appointment Start": "Début du rendez-vous",
        "Cancel Appointment": "Annuler votre rendez-vous",
        "Modify Appointment": "Modifier votre rendez-vous",
        "Sorry,Record not found !": "Désolé, ce fichier est introuvable",
        "Are you sure you want to cancel an scheduled appointment?": "Êtes-vous sûre de vouloir annuler votre rendez-vous ?",
        "Fail to connect, please check your internet connection": "Problème de connexion, veuillez vérifier votre connexion Internet et réessayer",
        "Price List": "Liste de prix",
        "Availability": "Disponibilité",
        "Total Time:": "Temps estimé :",
        "For parties of 5 or more, contact customer service": "Pour des groupes de plus de 4 personnes, veuillez contacter notre service clientèle.",
        "CUSTOMER": "CLIENT",
        "Type of Appointment:": "Type de rendez-vous:",
        "Checkup": "Examination du piercing",
        "FAQ": "QUESTIONS FRÉQUEMMENT POSÉES",
        "For over two decades, Maria Tash has been revolutionizing the fine jewelry and piercing industries by creating innovative designs under her NYC based eponymous label. With a unique perspective that lives at the intersection of beauty, fashion and jewelry, Tash has carved a unique position as a founder and designer. She has developed a technique through which each client's personal style and anatomy guide a curated combination of studs and rings, combined to best flatter the wearer. Art meets science with Tash’s approach to both design and piercing and is driven by her overriding desire to deliver not only a look but a feeling of beauty to her audience.": "Depuis plus de deux décennies, Maria Tash révolutionne l'industrie de la bijouterie fine et du piercing en créant des designs innovants sous son label éponyme basé à New York. Avec une perspective unique qui vit au carrefour de la beauté, de la mode et des bijoux, Tash s'est taillé une position unique en tant que fondatrice et designer. Elle a développé une technique grâce à laquelle le style et l'anatomie uniques de chaque cliente déterminent sa combinaison idéale de clous et de boucles, combinés pour complémenter au mieux leur porteuse. L'art croise la science avec l'approche de Tash pour un design et un piercing guidés par son désir primordial de livrer non seulement le meilleur look mais un sentiment de beauté.",
        "Earlobe": "Lobe de l’oreille",
        "Helix": "Hélix",
        "Nostril": "Narine",
        "Nipple": "Téton",
        "Navel": "Nombril",
        "Dermal": "Dermique",
        "hour": "heure",
        "Language: English": "Langue: English",
        "Language: French": "Langue:  Français",
        "Maria Tash x Le Bon Marché Pop-up": "Maria Tash x Le Bon Marché Boutique Éphémère",
        "No of People in Group": "Nombre de personne dans votre groupe",
        "Customer information cannot be the same.  Please provide unique information for each customer.": "Les informations sur les clientes ne peuvent pas être les mêmes. Veuillez fournir des informations uniques pour chaque cliente.",
        "Number of Piercings:": "Nombre de piercings:",
        "Contact us anytime:":"Pour toute question concernant les piercings et les prises de rendezvous, n’hésitez pas à nous contacter :",
        "Appointments are recommended for piercings but are not necessary for jewelry installations. Walk-ins welcome, based on availability.":"Les rendez-vous sont recommandés pour les piercings mais ne sont pas nécessaires pour les installations de bijoux. Les piercings sans rendezvous sont limités en fonction des disponibilités.",
        "Appointment Id": "Rendez-vous"
    },
    "en": {
        "Rejoignez l'équipe d'experts mondiaux Maria Tash à Los Angeles pour seulement quatre jours.": "Join the Maria Tash team of global experts in Los Angeles for four days only.",
        "Prénom*": "FIRST NAME*",
        "Nom*": "LAST NAME*",
        "SMS <br>(Vos donnés sont susceptibles d’être utilisés ainsi que l’envoie de messages)": "Text Message (Message and data rates may apply)",
        "SMS <br>(Vos donnés sont susceptibles d’être utilisés ainsi que l’envoie  de messages)": "Text Message (Message and data rates may apply)",
        "SMS (Vos donnés sont susceptibles d’être utilisés ainsi que l’envoie de messages)": "Text Message (Message and data rates may apply)",
        "En exclusivité au Bon Marché": "Maria Tash x Le Bon<br> Marché Pop-up",
        "Reconnue pour ses innovations en matière de piercing, Maria Tash a mis au point des techniques pour mettre en valeur le style, le teint, et l’anatomie de chaque personne grace notamment à une sélection de bijoux qu’elle a elle-même crée. Cette approche unique en matière de style et de piercing, fait de Maria Tash, l’une des marques de mode les plus convoitées aujourd’hui. Venez découvrir au Bon Marché, les différents styles, les piercings et la collection de bijoux de luxe de Maria Tash.": "Renowned for her innovation in piercing, Tash has developed a technique through which each client’s personal style, complexion, and anatomy guide the curation of jewelry combined to best flatter the wearer. The brand’s unique approach to piercing and styling  makes it one of the most coveted brands today. Shop the fine jewelry collections and experience Luxury Piercing and custom styling.",
        "Lundi": "Monday",
        "Mardi": "Tuesday",
        "Mercredi": "Wednesday",
        "Jeudi": "Thursday",
        "Vendredi": "Friday",
        "Samedi": "Saturday",
        "Dimanche": "Sunday",
        "Octobre": "October",
        "Août": "August",
        "réservation et prix": "BOOKING & PRICING",
        "RESERVEZ UN RENDEZ-VOUS DÈS": "BOOK NOW",
        "Informations sur l'événement": "POP-UP INFO",
        "À PROPOS DE MARIA TASH": "ABOUT MARIA TASH",
        "Nombre de personne dans votre groupe:": "Number of people in your party:",
        "Confirmer": "CONFIRM",
        "D’origine américaine, Maria Tash est née à New York, elle a commencé par étudier l’Astronomie à l’université de Columbia avant de partir faire des études dans la mode à Londres. C’est à ce moment-là qu’elle a développée son gout pour la joaillerie de luxe, une passion initiée dès son enfance par sa mère, et l’a fusionné avec son autre passion : le piercing. Maria Tash a ainsi débuté sa carrière dans la création de bijoux spécifiquement pour le nombril et a ouvert son premier atelier, Venus Modern Body Art, en 1993 dans l’East Village à New York.": "A native New Yorker, Tash studied Astronomy at Columbia University before moving to study abroad in London. It was there that her love of fine jewelry, which was instilled in her at a young age by her mother, was fused with her passion for piercings. Tash began her career creating custom navel jewelry, and opened her first studio, Venus Modern Body Art, in 1993 in the East Village of New York.",
        "Dois-je prendre rendez-vous ?": "Do I need to book an appointment?",
        "Les rendez-vous pour les piercings sont recommandés mais pas obligatoires. Pensez à vous présenter quelques temps avant votre rendez-vous afin de vous laisser le temps de choisir votre style et vos bijoux. Les installations et ajustements se font sans rendez-vous.": "Appointments are preferred for piercings but walk-ins are always welcome.  Appointments are not required for fittings and installs.",
        "Puis-je me faire percer avec mes propres bijoux ?": "Can I be pierced with my own jewelry?",
        "En raison des besoins de stérilisation, nous n’utilisons pas d’autres bijoux que ceux de Maria Tash. La meilleure sélection de notre collection sera disponible pour les installations et les piercings. Tous nos bijoux sont en or et se déclinent en différente couleur : jaune, blanc, rose et noir.": "Due to sterilization needs, we do not pierce with jewelry that is not Maria Tash.<br> The best selections from our full collection will be available for styling and piercing. Our styles come in white, yellow, rose, and black gold.",
        "Combien de piercings puis-je me faire faire en une séance ?": "How many piercings can I get in one session?",
        "Nous recommandons un maximum de 3 piercings par séance, mais cela dépends des placements des piercings et de votre anatomie. Nos stylistes et perceurs sont à votre disposition pour vous conseiller lors de votre visite.": "We recommend up to 3 per session, but this is dependant on the piercings you are thinking about and your anatomy. Our stylists and piercers can best consult with you during your visit.",
        "Puis-je me faire percer si j’ai moins de 18 ans ?": "Can I be pierced if I am under 18?",
        "Oui, nous perçons les lobes des oreilles à partir de 8 ans et le cartilage à partir de 16 ans, mais vous devez être accompagné d’un parent ou d’un tuteur légal et munis d’une pièce d’identité.": "Yes, we pierce lobes over the age of 8 and cartilage over the age of 16 but you must be accompanied by a parent or guardian and you both must bring ID with you.",
        "Quelle taille de bijoux me conviens le mieux ?": "What size jewelry works best for me?",
        "Afin de profiter pleinement de votre expérience à Maria Tash, nous vous proposons de vous laisser conseiller par nos stylistes et perceurs qui vous apporteront leur savoir-faire et expertise en fonction de vos gouts et de votre anatomie.": "Our experience involves you pairing one-on-one with our stylists to completely guide you through your styling and piercing. There are multiple sizes to our jewelry, but our team will make sure that you are properly sized and confident.",
        "Puis-je me faire percer si j’ai consommé de l’alcool?": "Can I be pierced if I’ve been drinking?",
        "Pour de raisons de santé et de sécurité, nous vous demandons de ne pas consommer d’alcool avant votre rendez-vous chez Maria Tash.": "If you are being pierced by us may we politely request that you refrain from consuming alcohol until after your appointment for health and safety reasons.",
        "INSCRIVEZ-VOUS À NOTRE NEWSLETTER": "Sign Up for Our Newsletter",
        "s'inscrire": "sign up",
        "Numéro de téléphone": "Phone Number",
        "Prendre Rendez-vous": "Book Your Appointment",
        "J'aimerais être averti par:": "I would like to be notified by:",
        "le prix des bijoux commence à": "Jewelry starts at",
        "QUESTIONS FRÉQUEMMENT POSÉES": "Frequently Asked Questions",
        "Saisissez votre Prénom*": "Please enter your First Name*",
        "Saisissez votre Email*": "Please enter your Email*",
        "Saisissez votre Nom*": "Please enter your Last Name*",
        "Aucun créneau disponible": "No Slot Available",
        "Choisissez une des options ci-dessus": "Please select one of the above options",
        "Sélectionnez l'emplacement": "Please select slot",
        "Saisissez votre": "Please enter your",
        "Espaces non autorisés": "Spaces Not Allowed",
        "Ce créneau n'est plus disponible. Choisissez un autre créneau.": "This appointment time is no longer available.  Please select another time.",
        "Désolé, quelque chose s'est mal passé. Veuillez réessayer !": "Sorry Something Went Wrong. Please Try Again!",
        "Saisissez une adresse email valide": "Please Enter Valid Email Id",
        "Réservez un autre piercing": "Book Another Piercing",
        "Lieu de la réservation": "Booking Location",
        "Début du rendez-vous": "Appointment Start",
        "Annuler votre rendez-vous": "Cancel Appointment",
        "Modifier votre rendez-vous": "Modify Appointment",
        "Désolé, ce fichier est introuvable": "Sorry,Record not found !",
        "Êtes-vous sûre de vouloir annuler votre rendez-vous ?": "Are you sure you want to cancel an scheduled appointment?",
        "Problème de connexion, veuillez vérifier votre connexion Internet et réessayer": "Fail to connect, please check your internet connection",
        'Choisissez votre type de rendez-vous pour obtenir les créneaux disponibles': 'Choose type of Appointment to get available time slots',
        "Liste de prix": "Price List",
        "Disponibilité": "Availability",
        "Temps estimé :": "Total Time:",
        "Pour des groupes de plus de 4 personnes, veuillez contacter notre service clientèle.": "For parties of 5 or more, contact customer service",
        "CLIENT": "CUSTOMER",
        "Type de rendez-vous:": "Type of Appointment:",
        "Examination du piercing": "Checkup",
        "QUESTIONS FRÉQUEMMENT POSÉES": "FAQ",
        "Depuis plus de deux décennies, Maria Tash révolutionne l'industrie de la bijouterie fine et du piercing en créant des designs innovants sous son label éponyme basé à New York. Avec une perspective unique qui vit au carrefour de la beauté, de la mode et des bijoux, Tash s'est taillé une position unique en tant que fondatrice et designer. Elle a développé une technique grâce à laquelle le style et l'anatomie uniques de chaque cliente déterminent sa combinaison idéale de clous et de boucles, combinés pour complémenter au mieux leur porteuse. L'art croise la science avec l'approche de Tash pour un design et un piercing guidés par son désir primordial de livrer non seulement le meilleur look mais un sentiment de beauté.": "For over two decades, Maria Tash has been revolutionizing the fine jewelry and piercing industries by creating innovative designs under her NYC based eponymous label. With a unique perspective that lives at the intersection of beauty, fashion and jewelry, Tash has carved a unique position as a founder and designer. She has developed a technique through which each client's personal style and anatomy guide a curated combination of studs and rings, combined to best flatter the wearer. Art meets science with Tash’s approach to both design and piercing and is driven by her overriding desire to deliver not only a look but a feeling of beauty to her audience.",
        "Lobe de l’oreille": "Earlobe",
        "Hélix": "Helix",
        "Narine": "Nostril",
        "Téton": "Nipple",
        "Nombril": "Navel",
        "Dermique": "Dermal",
        "heure": "hour",
        "Langue: English":"Language: English",
        "Langue:  Français": "Language: French",
        "Maria Tash x Le Bon Marché Boutique Éphémère": "Maria Tash x Le Bon Marché Pop-up",
        "Nombre de personne dans votre groupe": "No of People in Group",
        "Les informations sur les clientes ne peuvent pas être les mêmes. Veuillez fournir des informations uniques pour chaque cliente." : "Customer information cannot be the same.  Please provide unique information for each customer.",
        "Nombre de piercings:": "Number of Piercings:",
        "Pour toute question concernant les piercings et les prises de rendezvous, n’hésitez pas à nous contacter :":"Contact us anytime:",
        "Les rendez-vous sont recommandés pour les piercings mais ne sont pas nécessaires pour les installations de bijoux. Les piercings sans rendezvous sont limités en fonction des disponibilités.":"Appointments are recommended for piercings but are not necessary for jewelry installations. Walk-ins welcome, based on availability.",
        "Rendez-vous": "Appointment Id"
    }
};

const monthMapping = {
    "Aug": "Aout",
    "Sep": "Septembre",
    "Oct": "Octobre",
    "August": "Aout",
    "September": "Septembre",
    "October": "Octobre",
}

let currentLanguage = 'en';

jQuery(document).ready(function () {
    jQuery(window).bind('orientationchange', function (event) {
        location.reload(true);
    });
    const sessionLocale =  getSessionLocale();
    jQuery( "input[name='language_pref']" ).attr("value",currentLanguage);
    if(sessionLocale !== undefined){
        currentLanguage = sessionLocale;
        if(currentLanguage !== 'en' && sessionLocale !== null){
            jQuery('#translate').val(currentLanguage).change();
            jQuery( "input[name='language_pref']" ).attr("value",currentLanguage);
            translatePopUp();
        }
    }

    peopleCount = jQuery('#count').attr('value');
    jQuery(document).on('change','.people input,.people select',function () {
        jQuery('#pick_ur_slot input').attr("value","");
        jQuery("#slots_section div").removeClass("active");
        calculateTime();
    });
    jQuery(document).on('change','.checkup_select,.piercing_select',function () {
     var no= jQuery(this).data('no');
     if(jQuery('#piercing_select_'+no+':checked').length!=0 || jQuery('#checkup_select_'+no+':checked').length!=0) {
         jQuery('#customer_select_' + no + '').attr("value", 1);
         jQuery('#customer_select_' + no + '').focus();
         jQuery('#customer_select_' + no + '').focusout();

     }else
         jQuery('#customer_select_'+no+'').attr("value","");
    });

    jQuery('#translate').on('change',function(e) {
        let locale = jQuery(this).children("option:selected").val();
        setSessionLocale(locale);
        currentLanguage = locale;
        validateForm();
        jQuery( "input[name='language_pref']" ).attr("value",currentLanguage);
        translatePopUpWithLoader();
    })


    jQuery(document.body).on('keydown', '.phonenumber', function (event) {
        var key= (event.keyCode ? event.keyCode : event.which);

            if (key == 0 || key == 229) { //for android chrome keycode fix
                if (!jQuery(this).hasClass('allure_only_number'))
                    jQuery(this).addClass('allure_only_number');
            }
            if (key == 35 || key==187 || key == 36 || key == 37 || key == 38 || key == 39 || key == 40 || key == 8 || key == 9 || key == 46) { // end / home/Left / Up / Right / Down Arrow, Backspace,Tab, Delete keys
                return;
            }

            var regex = new RegExp("^[0-9]+$");
            var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
            if (!regex.test(key)) {
                event.preventDefault();
                return false;
            }

    });


});

let translatePopUpWithLoader = function () {
    //console.log(currentLanguage)
    jQuery('.form-disable-overlay').toggle();
    setTimeout(function () {
        translatePopUp();
        jQuery('.form-disable-overlay').toggle();
    },1200)
}

const setSessionLocale = function (locale) {
    sessionStorage.setItem('popupLocale',locale);
}

const getSessionLocale = function () {
    return sessionStorage.getItem('popupLocale');
}


// function for translating all the page contents
// were elements have class translate-popup
let translatePopUp = function () {
    const translatedElems = jQuery('.translate-popup');
    const elementLength = translatedElems.length;
    // let datePickerOb = jQuery('#appointment_date');
    // datePickerOb.datepicker('destroy');
    // initializeDatePicker();
    for(let i = 0; i<elementLength; i++){
        const sourceText = jQuery(translatedElems[i]).text();
        const tagName = jQuery(translatedElems[i]).prop("tagName");

        // if tag not INPUT then take innerText/text
        if(tagName === 'INPUT'){                              // if tag INPUT take placeholder
            const sourceText = jQuery(translatedElems[i]).attr('placeholder');
            if(sourceText){
                const translatedText = __(sourceText);
                jQuery(translatedElems[i]).attr('placeholder',translatedText);
            }
        }else if(tagName ==='BUTTON'){
            const title = jQuery(translatedElems[i]).attr('title');
            const trimmedSourceText = sourceText.trim();
            let translatedText = __(trimmedSourceText);

            if(title){
                const translatedTitleText = __(title);
                jQuery(translatedElems[i]).attr('title',translatedTitleText);
            }

            jQuery(translatedElems[i]).html(translatedText.trim());
        } else if(tagName!=='INPUT' && sourceText){
            const trimmedSourceText = sourceText.trim();
            let translatedText = __(trimmedSourceText);
            //console.log('tagName',tagName);

            if(jQuery(translatedElems[i]).attr("class").includes("app-confirm") && currentLanguage === 'fr'){
                const months = Object.keys(monthMapping);
                months.forEach(function (month) {
                    if(sourceText.includes(month))
                        translatedText = trimmedSourceText.replace(month,monthMapping[month])
                })
            }
            jQuery(translatedElems[i]).html(translatedText.trim());
        }
    }
}

const getTranslatedDateWithMonth = function (sourceText) {
    const frMonthMapping = {
        "Août": "Aug",
        "Septembre": "Sep",
        "Octobre": "Oct",
    };
    let translatedText = sourceText;
    if(currentLanguage === 'fr'){
        const months = Object.keys(frMonthMapping);
        months.forEach(function (month) {
            if(sourceText.includes(month))
                translatedText = sourceText.replace(month,frMonthMapping[month])
        })
    }

    return translatedText;
};

//function for translation
// which will lookup in json and will return translation
let __ = function (sourceString) {
    //console.log(currentLanguage)
    if(sourceString === undefined)
        return "";

    else {
        if(translation[currentLanguage]){
            let translatedString = translation[currentLanguage][sourceString];
            return translatedString?translatedString:sourceString;
        }else {
            return sourceString;
        }
    }
};

if (typeof Allure == "undefined") {
    var Allure = {};
}

Number.prototype.pad = function (size) {
    var s = String(this);
    while (s.length < (size || 2)) {
        s = "0" + s;
    }
    return s;
}

//LOAD WORKING DAYS FOR PARTICULAR STORE
var loadWorkingDays = function (workingDayUrl,storeid) {
    var availableDateArr = [];
    var currentDate = '';
    jQuery.ajax({
        url: workingDayUrl,
        async: false,
        dataType: 'json',
        type: 'POST',
        data: {storeid: storeid, id: Allure.appointmentId},

        success: function (response) {
            availableDateArr = response.available_dates;
            currentDate = formatDate(new Date(response.current_date));
        },
    });
    return {dates: availableDateArr, today: currentDate};
}

var changePiercingQty=function () {

};
var addCustomer = function (srno) {
    var newCustomer =
        ` <div id="customer${srno}" style="display: none">
               <div id="name-box" class="col-md-12 name-box">
                    <div class="">
                            <h6 class="text-white translate-popup">${__('CUSTOMER')} ${srno}:</h6>
                        </div>
                        <div class="row">
                            <div class="col-md-6 form-group">
                                <input class="input-box required-entry firstname translate-popup" type="text" name="customer[${srno}][firstname]" id="firstname${srno}" placeholder="${__('First Name*')}" value=""required>
                               </div>
                                <div class="col-md-6 form-group">
                                    <input class="input-box required-entry lastname translate-popup" type="text" name="customer[${srno}][lastname]" id="lastname${srno}" placeholder="${__('Last Name*')}" value="" required>
                                </div>
                        </div>
               </div>
               <div id="email-box" class="col-md-12 form-group">
                    <input class="input-box required-entry email translate-popup"  type="email" name="customer[${srno}][email]" id="email${srno}" placeholder="${__('Email*')}" value="" required>
               </div>
               <div id="phone-box" class="col-md-12 form-group">
                   <input class="input-box required-entry validate-intl-telephone phonenumber translate-popup" type="text" name="customer[${srno}][phone]" id="phonenumber${srno}" placeholder="${__('Phone Number')}" value="" required>
               </div>
               <div id="notify-box" class="col-md-12 form-group">
                    <p class="label notify-label translate-popup">${__('I would like to be notified by:')}</p>
                    <div class="col-md-12 notify-label p-0">
                        <input type="checkbox" id="em${srno}" name="" checked>
                            <label class="label m-0 mt-1 translate-popup" for="em${srno}">${__('Email')}</label>

                    </div>
                    <div class="col-md-12 notify-label p-0">
                        <input type="checkbox" id="c${srno}" name="customer[${srno}][noti_sms]">
                        <label class="label translate-popup" for="c${srno}">${__('Text Message (Message and data rates may apply)')}</label>

                    </div>
                </div>
        </div>`;


    jQuery('.customer_section').append(newCustomer);
    jQuery('#customer' + srno).show('slow');


   var iti= window.intlTelInput(document.querySelector("#phonenumber" + srno), {
        initialCountry: 'fr',
        autoFormat: false,
        autoHideDialCode: false,
        autoPlaceholder: false,
        nationalMode: false,
        utilsScript:  Allure.UtilPath
    });
    allureIntlTelValidate(jQuery("#phonenumber" + srno), iti);

};

var addCustomerJob = function (srno) {
    var newJob =
        `<div id="customer${srno}job" style="display: none" class="form-group">
            <h6 class="text-white translate-popup">${__('CUSTOMER')} ${srno}:</h6>
            <label class="label mb-1 translate-popup">${__('Type of Appointment:')}</label>
            <div  class="row ">
                <div class="col-md-3 col-4">
                    <input type="checkbox" class="piercing_select" data-no="${srno}" id="piercing_select_${srno}" onchange="displayPiercing(\'${'#piercing-wrapper' + srno}\')" name="customer[${srno}][piercing_select]">
                    <label class="label translate-popup" for="piercing_select_${srno}">${__('Piercing')}</label>
                </div>
                <div class="col-md-6 col-8">
                    <input type="checkbox" class="checkup_select" data-no="${srno}" id="checkup_select_${srno}" value="1" name="customer[${srno}][checkup]">
                    <label class="label translate-popup" for="checkup_select_${srno}">${__('Checkup')}</label>
                </div>
                <div class="col-12">
                <input type="text" class="customer_select required-entry" value="" id="customer_select_${srno}"
                name="chekbox[${srno}]" style="display:none">
                </div>
            </div>
            <div id="piercing-wrapper${srno}" class="job-wrapper row" style="display:none">
                <div class="col-12"> 
                    <div class="row"> 
                        <div class="col-md-6 col-8"> 
                            <label class="label translate-popup">${__('Number of Piercings:')}</label>
                        </div> 
                    <div class="col-md-3 col-4 text-right"> 
                        <select id="piercing_${srno}" class="input-box"  name="customer[${srno}][piercing]" onchange="changePiercingQty(this)" disabled>
                            <option selected value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>`;


    jQuery('.job').append(newJob);
    jQuery('#customer' + srno + 'job').show('slow');
};
var removeCustomer = function (srno) {
    var customer = jQuery('#customer' + (srno + 1));
    customer.hide('slow', function () {
        customer.remove();
    });
};
var removeCustomerJob = function (srno) {
    var job = jQuery('#customer' + (srno + 1) + 'job');
    job.hide('slow', function () {
        job.remove();
    });
};

var displayPiercing = function (id) {
    jQuery(id).toggle();
    if (jQuery(id + ' select').prop("disabled"))
        jQuery(id + ' select').prop("disabled", false);
    else
        jQuery(id + ' select').prop("disabled", true);
};

var peopleCount = 1;
var time_in_min=0;

var calculateTime = function () {
    var old_time_in_min=time_in_min;
    var number_of_piercing = 0;
    var number_of_piercing_people = 0;
    var number_of_checkup = 0;
    for (var i = 1; i <= peopleCount; i++) {
        if (jQuery('#piercing_select_' + i).is(":checked")) {
            number_of_piercing = number_of_piercing + parseInt(jQuery('#piercing_' + i).val());
            number_of_piercing_people++;
        }
        if ((!jQuery('#piercing_select_' + i).is(":checked")) && (jQuery('#checkup_select_' + i).is(":checked"))) {
            number_of_checkup++;
        }
    }
    var slotsArray = JSON.parse(slots);
    var slotTime = parseInt(slotsArray[number_of_piercing_people][number_of_piercing]);
    var time = slotTime + (number_of_checkup * 10);
    time_in_min=time;
    var hours = Math.trunc(time / 60);
    var minutes = time % 60;
    var timeSpan=jQuery('#total_time');

    if(old_time_in_min!=time_in_min) {


    timeSpan.slideUp("slow",function () {
        timeSpan.html('<span class="translate-popup">'+__('Total Time:')+'</span> '+hours +' <span class="translate-popup">'+ __('hour')+'</span> '+ minutes+' <span class="translate-popup">'+__('minutes')+'</span>');
    });
    timeSpan.slideDown("slow");

        jQuery('.form-disable-overlay').show();
       //jQuery('#appointemnet_form input').prop("disabled",true);
        if(getAvailableSlots())
        {
         //   jQuery('#appointemnet_form input').prop("disabled",false);
        }
    }
    else {
        //jQuery('.form-disable-overlay').hide();

        //jQuery('#appointemnet_form input').prop("disabled", false);
    }
};




var getAvailableSlots = function () {
    jQuery('#appointment_date').datepicker('hide');

    if(time_in_min<1)
    {
        html=`<p class="col-12  p-1 m-1 text-center">
            ${__('Choose type of Appointment to get available time slots')}
            </p>`;
        jQuery("#slots_section").slideUp("fast",function () {
            jQuery('#slots_section').html(html);
            jQuery("#pick_ur_slot").addClass("loading");
        });
        jQuery("#slots_section").slideDown("slow",function () {
            jQuery("#pick_ur_slot").removeClass("loading");
        });
        jQuery('.form-disable-overlay').hide();

        return 1;
    }
    var request = {
        "slottime": time_in_min,
        "storeid": jQuery('#store_id').val(),
        "date": jQuery('#appointment_date').val(),
        "appointment_id":Allure.appointmentId,
    };

    jQuery.ajax({
        url: Allure.getAvlblSlotsUrl,
        dataType: 'json',
        type: 'POST',
        data: request,
       // async:false,
        beforeSend: function () {
             jQuery("#slots_section").slideUp("slow",function () {
                 jQuery("#pick_ur_slot").addClass("loading");
             });

           // jQuery('#slotloader').show();
        },
        complete: function () {
            // jQuery('#slotloader').hide();

        },
        timeout: 30000,
        error: function (jqXHR) {
            if (jqXHR.status == 0) {
                alert(__("Fail to connect, please check your internet connection"));
            }
        },
        success: setAvailableSlots
    });

    return 1;
};

var modifyDateSlotAvlble=0;

var setAvailableSlots = function (response) {
   // jQuery('#slotloader').hide();

    html=`<p class="col-12 p-1 m-1 text-center">
        <span class="translate-popup">${__('No Slot Available')}</span>
        </p>`;

    if(response.success==true)
    {
        //console.log(response.slots);
        var slots=JSON.stringify(response.slots);
         slots=JSON.parse(slots);
         if(slots.length>0) {
             var html="";
             for (var i = 0; i < slots.length; i++) {

                 html+=' <div class="slot-width float-left m-1 border border-white p-1  text-center'+isModifyActive(slots[i])+'" data-start="'+slots[i]["start"]+'" data-end="'+slots[i]["end"]+'" data-p_id="'+slots[i]["id"]+'" title="'+slots[i]["start"]+'-'+slots[i]["end"]+'">\n'
                            +slots[i]["start"]+
                     '</div>';
             }
         }
    }

    if(modifyDateSlotAvlble==0)
    {
        jQuery('#starttime_hidden').attr('value','');
        jQuery('#endtime_hidden').attr('value','');
        jQuery('#piercer_id').attr('value','');
    }
    modifyDateSlotAvlble=0;


    jQuery("#slots_section").slideUp("slow",function () {
        jQuery('#slots_section').html(html);
    });
    jQuery("#slots_section").slideDown("slow",function () {
        jQuery("#pick_ur_slot").removeClass("loading");
        jQuery('.form-disable-overlay').hide();
    });

};


var isModifyActive=function (slot) {
    if(Allure.appointmentId)
    {
        if(slot['start']==jQuery('#starttime_hidden').attr('value') && slot['end']==jQuery('#endtime_hidden').attr('value') && slot['id']==jQuery('#piercer_id').attr('value'))
        {
            modifyDateSlotAvlble=1;
            return " active "
        }

    }

    return "";
};


var changeQty = function (obj) {
    var changedCount = jQuery(obj).val();
    if (changedCount > peopleCount) {
        var number_of_increment = changedCount - peopleCount;
        //console.log(number_of_increment);
        while (number_of_increment > 0) {
            peopleCount++;
            addCustomerJob(peopleCount);
            addCustomer(peopleCount);
            number_of_increment--;

            validateForm();

        }
    }
    else {
        var number_of_decrement = peopleCount - changedCount;
        while (number_of_decrement > 0) {
            peopleCount--;
            removeCustomer(peopleCount);
            removeCustomerJob(peopleCount);
            number_of_decrement--;
        }
    }

};

var formatDate = function(date) {
    var monthNames = [
        "Jan", "Feb", "Mar",
        "Apr", "May", "Jun", "Jul",
        "Aug", "Sep", "Oct",
        "Nov", "Dec"
    ];

    var day = date.getDate();
    var monthIndex = date.getMonth();
    var year = date.getFullYear();

    return day + '  ' + monthNames[monthIndex] + '  ' + year;
};

var validateForm = function () {

/*
    jQuery.validator.addMethod("noSpace", function(value, element) {
        return value.indexOf(" ") < 0 && value != "";
    }, "No space please and don't leave it empty");*/


    jQuery('.firstname,.lastname,.email').each(function() {
        var placeholder=jQuery(this).attr("placeholder");
        jQuery(this).rules('add', {
            required: true,
            nospace: true,
            messages: {
                required:  __("Please enter your")+" "+__(placeholder),
                nospace: __("Spaces Not Allowed")
            }
        });
    });
/*validation using hidden inputs*/
    jQuery('.customer_select').each(function() {
        jQuery(this).rules('add', {
            required:true,
            messages: {
                required:  __("Please select one of the above options"),
            }
        });
    });

    jQuery('#starttime_hidden').rules('add', {
        required: true,
        messages: {
            required: __("Please select slot")
        }
    });

    jQuery('.email').each(function() {
        //var placeholder=jQuery(this).attr("placeholder");
        jQuery(this).rules('add', {
            email: true,
            messages: {
                email:  __("Please enter a valid email address.")
            }
        });
    });

};

jQuery(document).ready(function () {
    var $ = jQuery;


    if (jQuery(window).outerWidth() <= 1023) {
        jQuery('#desktop-slot').appendTo(jQuery('#mobile-slot'));
    }
    if (jQuery(window).outerWidth() <= 767) {


        jQuery(window).scroll(function () {
            var scrollTop = jQuery(window).scrollTop();
            var offsetHeight = jQuery('.pop-up-div').position().top - jQuery('.navbar-brand').height();
            // console.log(scrollTop+'::'+offsetHeight);
            if (scrollTop >= offsetHeight) {
                jQuery("#navbar").css("background-color", '#2c2c2c');
            } else {
                jQuery("#navbar").css("background-color", 'transparent');
            }
        });

        jQuery('.faq-question').click(function () {
            // console.log(jQuery(this));
            // console.log(jQuery(this).attr('area-expanded'));
            if (!jQuery(this).hasClass('data-expanded')) {
                jQuery('.faq-question.data-expanded').removeClass('data-expanded');
                jQuery('.faq-answer.data-expanded').removeClass('data-expanded').slideUp();
                jQuery(this).next().slideDown();
                jQuery(this).addClass('data-expanded');
                jQuery(this).next().addClass('data-expanded');
            } else {
                jQuery(this).removeClass('data-expanded');
                jQuery(this).next().removeClass('data-expanded');
                jQuery(this).next().slideUp();
            }
        });
    }

    $('#close-nav').click(function () {
        // console.log('m in');
        $('#navbar-icon').trigger('click');
        // $('#navbar-icon').removeClass('active');
        // $('#navbar-menu').css('display','none');
    });

    jQuery('a#btnPriceList').click(function () {
        if ($(this).hasClass('active')) {
            $('#price-list').hide();
            $(this).removeClass('active');
        } else {
            $('#price-list').show();
            $(this).addClass('active');
        }
    });

    jQuery('#icon-price-close').click(function () {
        jQuery('a#btnPriceList').removeClass('active');
        $('#price-list').hide();
    });

    jQuery('.navbar-icon').click(function () {
        if (window.outerWidth < 768) {
            if ($(this).hasClass('active')) {
                $('.navbar-icon').removeClass('active');
                jQuery('ul#navbar-menu').hide();
            } else {
                $('.navbar-icon').addClass('active');
                jQuery('ul#navbar-menu').show();
            }
        }
    });


});
